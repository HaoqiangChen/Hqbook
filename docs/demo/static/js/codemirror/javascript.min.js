!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){"use strict";a.defineMode("javascript",function(b,c){function m(a){for(var c,b=!1,d=!1;null!=(c=a.next());){if(!b){if("/"==c&&!d)return;"["==c?d=!0:d&&"]"==c&&(d=!1)}b=!b&&"\\"==c}}function p(a,b,c){return n=a,o=c,b}function q(a,b){var d,e,c=a.next();if('"'==c||"'"==c)return b.tokenize=r(c),b.tokenize(a,b);if("."==c&&a.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return p("number","number");if("."==c&&a.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(c))return p(c);if("="==c&&a.eat(">"))return p("=>","operator");if("0"==c&&a.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return p("number","number");if(/\d/.test(c))return a.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),p("number","number");if("/"==c)return a.eat("*")?(b.tokenize=s,s(a,b)):a.eat("/")?(a.skipToEnd(),p("comment","comment")):ac(a,b,1)?(m(a),a.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),p("regexp","string-2")):(a.eat("="),p("operator","operator",a.current()));if("`"==c)return b.tokenize=t,t(a,b);if("#"==c&&"!"==a.peek())return a.skipToEnd(),p("meta","meta");if("#"==c&&a.eatWhile(i))return p("variable","property");if("<"==c&&a.match("!--")||"-"==c&&a.match("->")&&!/\S/.test(a.string.slice(0,a.start)))return a.skipToEnd(),p("comment","comment");if(k.test(c))return">"==c&&b.lexical&&">"==b.lexical.type||(a.eat("=")?("!"==c||"="==c)&&a.eat("="):/[<>*+\-|&?]/.test(c)&&(a.eat(c),">"==c&&a.eat(c))),"?"==c&&a.eat(".")?p("."):p("operator","operator",a.current());if(i.test(c)){if(a.eatWhile(i),d=a.current(),"."!=b.lastType){if(j.propertyIsEnumerable(d))return e=j[d],p(e.type,e.style,d);if("async"==d&&a.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return p("async","keyword",d)}return p("variable","variable",d)}}function r(a){return function(b,c){var e,d=!1;if(f&&"@"==b.peek()&&b.match(l))return c.tokenize=q,p("jsonld-keyword","meta");for(;null!=(e=b.next())&&(e!=a||d);)d=!d&&"\\"==e;return d||(c.tokenize=q),p("string","string")}}function s(a,b){for(var d,c=!1;d=a.next();){if("/"==d&&c){b.tokenize=q;break}c="*"==d}return p("comment","comment")}function t(a,b){for(var d,c=!1;null!=(d=a.next());){if(!c&&("`"==d||"$"==d&&a.eat("{"))){b.tokenize=q;break}c=!c&&"\\"==d}return p("quasi","string-2",a.current())}function v(a,b){var c,d,e,f,g,j,k,l;if(b.fatArrowAt&&(b.fatArrowAt=null),c=a.string.indexOf("=>",a.start),!(0>c)){for(h&&(d=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(a.string.slice(a.start,c)),d&&(c=d.index)),e=0,f=!1,g=c-1;g>=0;--g)if(j=a.string.charAt(g),k=u.indexOf(j),k>=0&&3>k){if(!e){++g;break}if(0==--e){"("==j&&(f=!0);break}}else if(k>=3&&6>k)++e;else if(i.test(j))f=!0;else if(/["'\/`]/.test(j))for(;;--g){if(0==g)return;if(l=a.string.charAt(g-1),l==j&&"\\"!=a.string.charAt(g-2)){g--;break}}else if(f&&!e){++g;break}f&&!e&&(b.fatArrowAt=g)}}function x(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,null!=d&&(this.align=d)}function y(a,b){var c,d;for(c=a.localVars;c;c=c.next)if(c.name==b)return!0;for(d=a.context;d;d=d.prev)for(c=d.vars;c;c=c.next)if(c.name==b)return!0}function z(a,b,c,d,e){var h,f=a.cc;for(A.state=a,A.stream=e,A.marked=null,A.cc=f,A.style=b,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);;)if(h=f.length?f.pop():g?S:Q,h(c,d)){for(;f.length&&f[f.length-1].lex;)f.pop()();return A.marked?A.marked:"variable"==c&&y(a,d)?"variable-2":b}}function B(){for(var a=arguments.length-1;a>=0;a--)A.cc.push(arguments[a])}function C(){return B.apply(null,arguments),!0}function D(a,b){for(var c=b;c;c=c.next)if(c.name==a)return!0;return!1}function E(a){var d,b=A.state;if(A.marked="def",b.context)if("var"==b.lexical.info&&b.context&&b.context.block){if(d=F(a,b.context),null!=d)return b.context=d,void 0}else if(!D(a,b.localVars))return b.localVars=new I(a,b.localVars),void 0;c.globalVars&&!D(a,b.globalVars)&&(b.globalVars=new I(a,b.globalVars))}function F(a,b){if(b){if(b.block){var c=F(a,b.prev);return c?c==b.prev?b:new H(c,b.vars,!0):null}return D(a,b.vars)?b:new H(b.prev,new I(a,b.vars),!1)}return null}function G(a){return"public"==a||"private"==a||"protected"==a||"abstract"==a||"readonly"==a}function H(a,b,c){this.prev=a,this.vars=b,this.block=c}function I(a,b){this.name=a,this.next=b}function K(){A.state.context=new H(A.state.context,A.state.localVars,!1),A.state.localVars=J}function L(){A.state.context=new H(A.state.context,A.state.localVars,!0),A.state.localVars=null}function M(){A.state.localVars=A.state.context.vars,A.state.context=A.state.context.prev}function N(a,b){var c=function(){var e,c=A.state,d=c.indented;if("stat"==c.lexical.type)d=c.lexical.indented;else for(e=c.lexical;e&&")"==e.type&&e.align;e=e.prev)d=e.indented;c.lexical=new x(d,A.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function O(){var a=A.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function P(a){function b(c){return c==a?C():";"==a||"}"==c||")"==c||"]"==c?B():C(b)}return b}function Q(a,b){return"var"==a?C(N("vardef",b),yb,P(";"),O):"keyword a"==a?C(N("form"),U,Q,O):"keyword b"==a?C(N("form"),Q,O):"keyword d"==a?A.stream.match(/^\s*$/,!1)?C():C(N("stat"),W,P(";"),O):"debugger"==a?C(P(";")):"{"==a?C(N("}"),L,lb,O,M):";"==a?C():"if"==a?("else"==A.state.lexical.info&&A.state.cc[A.state.cc.length-1]==O&&A.state.cc.pop()(),C(N("form"),U,Q,O,Eb)):"function"==a?C(Ib):"for"==a?C(N("form"),Fb,Q,O):"class"==a||h&&"interface"==b?(A.marked="keyword",C(N("form","class"==a?a:b),Nb,O)):"variable"==a?h&&"declare"==b?(A.marked="keyword",C(Q)):h&&("module"==b||"enum"==b||"type"==b)&&A.stream.match(/^\s*\w/,!1)?(A.marked="keyword","enum"==b?C(Zb):"type"==b?C(Kb,P("operator"),qb,P(";")):C(N("form"),zb,P("{"),N("}"),lb,O,O)):h&&"namespace"==b?(A.marked="keyword",C(N("form"),S,Q,O)):h&&"abstract"==b?(A.marked="keyword",C(Q)):C(N("stat"),eb):"switch"==a?C(N("form"),U,P("{"),N("}","switch"),L,lb,O,O,M):"case"==a?C(S,P(":")):"default"==a?C(P(":")):"catch"==a?C(N("form"),K,R,Q,O,M):"export"==a?C(N("stat"),Rb,O):"import"==a?C(N("stat"),Tb,O):"async"==a?C(Q):"@"==b?C(S,Q):B(N("stat"),S,P(";"),O)}function R(a){return"("==a?C(Lb,P(")")):void 0}function S(a,b){return V(a,b,!1)}function T(a,b){return V(a,b,!0)}function U(a){return"("!=a?B():C(N(")"),W,P(")"),O)}function V(a,b,c){var d,e;if(A.state.fatArrowAt==A.stream.start){if(d=c?ab:_,"("==a)return C(K,N(")"),jb(Lb,")"),O,P("=>"),d,M);if("variable"==a)return B(K,zb,P("=>"),d,M)}return e=c?Y:X,w.hasOwnProperty(a)?C(e):"function"==a?C(Ib,e):"class"==a||h&&"interface"==b?(A.marked="keyword",C(N("form"),Mb,O)):"keyword c"==a||"async"==a?C(c?T:S):"("==a?C(N(")"),W,P(")"),O,e):"operator"==a||"spread"==a?C(c?T:S):"["==a?C(N("]"),Yb,O,e):"{"==a?kb(gb,"}",null,e):"quasi"==a?B(Z,e):"new"==a?C(bb(c)):"import"==a?C(S):C()}function W(a){return a.match(/[;\}\)\],]/)?B():B(S)}function X(a,b){return","==a?C(W):Y(a,b,!1)}function Y(a,b,c){var d=0==c?X:Y,e=0==c?S:T;if("=>"==a)return C(K,c?ab:_,M);if("operator"==a)return/\+\+|--/.test(b)||h&&"!"==b?C(d):h&&"<"==b&&A.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?C(N(">"),jb(qb,">"),O,d):"?"==b?C(S,P(":"),e):C(e);if("quasi"==a)return B(Z,d);if(";"!=a)return"("==a?kb(T,")","call",d):"."==a?C(fb,d):"["==a?C(N("]"),W,P("]"),O,d):h&&"as"==b?(A.marked="keyword",C(qb,d)):"regexp"==a?(A.state.lastType=A.marked="operator",A.stream.backUp(A.stream.pos-A.stream.start-1),C(e)):void 0}function Z(a,b){return"quasi"!=a?B():"${"!=b.slice(b.length-2)?C(Z):C(S,$)}function $(a){return"}"==a?(A.marked="string-2",A.state.tokenize=t,C(Z)):void 0}function _(a){return v(A.stream,A.state),B("{"==a?Q:S)}function ab(a){return v(A.stream,A.state),B("{"==a?Q:T)}function bb(a){return function(b){return"."==b?C(a?db:cb):"variable"==b&&h?C(vb,a?Y:X):B(a?T:S)}}function cb(a,b){return"target"==b?(A.marked="keyword",C(X)):void 0}function db(a,b){return"target"==b?(A.marked="keyword",C(Y)):void 0}function eb(a){return":"==a?C(O,Q):B(X,P(";"),O)}function fb(a){return"variable"==a?(A.marked="property",C()):void 0}function gb(a,b){if("async"==a)return A.marked="property",C(gb);if("variable"==a||"keyword"==A.style){if(A.marked="property","get"==b||"set"==b)return C(hb);var c;return h&&A.state.fatArrowAt==A.stream.start&&(c=A.stream.match(/^\s*:\s*/,!1))&&(A.state.fatArrowAt=A.stream.pos+c[0].length),C(ib)}return"number"==a||"string"==a?(A.marked=f?"property":A.style+" property",C(ib)):"jsonld-keyword"==a?C(ib):h&&G(b)?(A.marked="keyword",C(gb)):"["==a?C(S,mb,P("]"),ib):"spread"==a?C(T,ib):"*"==b?(A.marked="keyword",C(gb)):":"==a?B(ib):void 0}function hb(a){return"variable"!=a?B(ib):(A.marked="property",C(Ib))}function ib(a){return":"==a?C(T):"("==a?B(Ib):void 0}function jb(a,b,c){function d(e,f){if(c?c.indexOf(e)>-1:","==e){var g=A.state.lexical;return"call"==g.info&&(g.pos=(g.pos||0)+1),C(function(c,d){return c==b||d==b?B():B(a)},d)}return e==b||f==b?C():c&&c.indexOf(";")>-1?B(a):C(P(b))}return function(c,e){return c==b||e==b?C():B(a,d)}}function kb(a,b,c){for(var d=3;d<arguments.length;d++)A.cc.push(arguments[d]);return C(N(b,c),jb(a,b),O)}function lb(a){return"}"==a?C():B(Q,lb)}function mb(a,b){if(h){if(":"==a)return C(qb);if("?"==b)return C(mb)}}function nb(a,b){return!h||":"!=a&&"in"!=b?void 0:C(qb)}function ob(a){return h&&":"==a?A.stream.match(/^\s*\w+\s+is\b/,!1)?C(S,pb,qb):C(qb):void 0}function pb(a,b){return"is"==b?(A.marked="keyword",C()):void 0}function qb(a,b){return"keyof"==b||"typeof"==b||"infer"==b?(A.marked="keyword",C("typeof"==b?T:qb)):"variable"==a||"void"==b?(A.marked="type",C(ub)):"|"==b||"&"==b?C(qb):"string"==a||"number"==a||"atom"==a?C(ub):"["==a?C(N("]"),jb(qb,"]",","),O,ub):"{"==a?C(N("}"),jb(sb,"}",",;"),O,ub):"("==a?C(jb(tb,")"),rb,ub):"<"==a?C(jb(qb,">"),qb):void 0}function rb(a){return"=>"==a?C(qb):void 0}function sb(a,b){return"variable"==a||"keyword"==A.style?(A.marked="property",C(sb)):"?"==b||"number"==a||"string"==a?C(sb):":"==a?C(qb):"["==a?C(P("variable"),nb,P("]"),sb):"("==a?B(Jb,sb):void 0}function tb(a,b){return"variable"==a&&A.stream.match(/^\s*[?:]/,!1)||"?"==b?C(tb):":"==a?C(qb):"spread"==a?C(tb):B(qb)}function ub(a,b){return"<"==b?C(N(">"),jb(qb,">"),O,ub):"|"==b||"."==a||"&"==b?C(qb):"["==a?C(qb,P("]"),ub):"extends"==b||"implements"==b?(A.marked="keyword",C(qb)):"?"==b?C(qb,P(":"),qb):void 0}function vb(a,b){return"<"==b?C(N(">"),jb(qb,">"),O,ub):void 0}function wb(){return B(qb,xb)}function xb(a,b){return"="==b?C(qb):void 0}function yb(a,b){return"enum"==b?(A.marked="keyword",C(Zb)):B(zb,mb,Cb,Db)}function zb(a,b){return h&&G(b)?(A.marked="keyword",C(zb)):"variable"==a?(E(b),C()):"spread"==a?C(zb):"["==a?kb(Bb,"]"):"{"==a?kb(Ab,"}"):void 0}function Ab(a,b){return"variable"!=a||A.stream.match(/^\s*:/,!1)?("variable"==a&&(A.marked="property"),"spread"==a?C(zb):"}"==a?B():"["==a?C(S,P("]"),P(":"),Ab):C(P(":"),zb,Cb)):(E(b),C(Cb))}function Bb(){return B(zb,Cb)}function Cb(a,b){return"="==b?C(T):void 0}function Db(a){return","==a?C(yb):void 0}function Eb(a,b){return"keyword b"==a&&"else"==b?C(N("form","else"),Q,O):void 0}function Fb(a,b){return"await"==b?C(Fb):"("==a?C(N(")"),Gb,O):void 0}function Gb(a){return"var"==a?C(yb,Hb):"variable"==a?C(Hb):B(Hb)}function Hb(a,b){return")"==a?C():";"==a?C(Hb):"in"==b||"of"==b?(A.marked="keyword",C(S,Hb)):B(S,Hb)}function Ib(a,b){return"*"==b?(A.marked="keyword",C(Ib)):"variable"==a?(E(b),C(Ib)):"("==a?C(K,N(")"),jb(Lb,")"),O,ob,Q,M):h&&"<"==b?C(N(">"),jb(wb,">"),O,Ib):void 0}function Jb(a,b){return"*"==b?(A.marked="keyword",C(Jb)):"variable"==a?(E(b),C(Jb)):"("==a?C(K,N(")"),jb(Lb,")"),O,ob,M):h&&"<"==b?C(N(">"),jb(wb,">"),O,Jb):void 0}function Kb(a,b){return"keyword"==a||"variable"==a?(A.marked="type",C(Kb)):"<"==b?C(N(">"),jb(wb,">"),O):void 0}function Lb(a,b){return"@"==b&&C(S,Lb),"spread"==a?C(Lb):h&&G(b)?(A.marked="keyword",C(Lb)):h&&"this"==a?C(mb,Cb):B(zb,mb,Cb)}function Mb(a,b){return"variable"==a?Nb(a,b):Ob(a,b)}function Nb(a,b){return"variable"==a?(E(b),C(Ob)):void 0}function Ob(a,b){return"<"==b?C(N(">"),jb(wb,">"),O,Ob):"extends"==b||"implements"==b||h&&","==a?("implements"==b&&(A.marked="keyword"),C(h?qb:S,Ob)):"{"==a?C(N("}"),Pb,O):void 0}function Pb(a,b){return"async"==a||"variable"==a&&("static"==b||"get"==b||"set"==b||h&&G(b))&&A.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(A.marked="keyword",C(Pb)):"variable"==a||"keyword"==A.style?(A.marked="property",C(Qb,Pb)):"number"==a||"string"==a?C(Qb,Pb):"["==a?C(S,mb,P("]"),Qb,Pb):"*"==b?(A.marked="keyword",C(Pb)):h&&"("==a?B(Jb,Pb):";"==a||","==a?C(Pb):"}"==a?C():"@"==b?C(S,Pb):void 0}function Qb(a,b){if("?"==b)return C(Qb);if(":"==a)return C(qb,Cb);if("="==b)return C(T);var c=A.state.lexical.prev,d=c&&"interface"==c.info;return B(d?Jb:Ib)}function Rb(a,b){return"*"==b?(A.marked="keyword",C(Xb,P(";"))):"default"==b?(A.marked="keyword",C(S,P(";"))):"{"==a?C(jb(Sb,"}"),Xb,P(";")):B(Q)}function Sb(a,b){return"as"==b?(A.marked="keyword",C(P("variable"))):"variable"==a?B(T,Sb):void 0}function Tb(a){return"string"==a?C():"("==a?B(S):B(Ub,Vb,Xb)}function Ub(a,b){return"{"==a?kb(Ub,"}"):("variable"==a&&E(b),"*"==b&&(A.marked="keyword"),C(Wb))}function Vb(a){return","==a?C(Ub,Vb):void 0}function Wb(a,b){return"as"==b?(A.marked="keyword",C(Ub)):void 0}function Xb(a,b){return"from"==b?(A.marked="keyword",C(S)):void 0}function Yb(a){return"]"==a?C():B(jb(T,"]"))}function Zb(){return B(N("form"),zb,P("{"),N("}"),jb($b,"}"),O,O)}function $b(){return B(zb,Cb)}function _b(a,b){return"operator"==a.lastType||","==a.lastType||k.test(b.charAt(0))||/[,.]/.test(b.charAt(0))}function ac(a,b,c){return b.tokenize==q&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(b.lastType)||"quasi"==b.lastType&&/\{\s*$/.test(a.string.slice(0,a.pos-(c||0)))}var n,o,d=b.indentUnit,e=c.statementIndent,f=c.jsonld,g=c.json||f,h=c.typescript,i=c.wordCharacters||/[\w$\xa1-\uffff]/,j=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("keyword d"),f=a("operator"),g={type:"atom",style:"atom"};return{"if":a("if"),"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":e,"break":e,"continue":e,"new":a("new"),"delete":d,"void":d,"throw":d,"debugger":a("debugger"),"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":f,"typeof":f,"instanceof":f,"true":g,"false":g,"null":g,undefined:g,NaN:g,Infinity:g,"this":a("this"),"class":a("class"),"super":a("atom"),yield:d,"export":a("export"),"import":a("import"),"extends":d,await:d}}(),k=/[+\-*&%=<>!?|~^@]/,l=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,u="([{}])",w={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},A={state:null,column:null,marked:null,cc:null},J=new I("this",new I("arguments",null));return M.lex=!0,O.lex=!0,{startState:function(a){var b={tokenize:q,lastType:"sof",cc:[],lexical:new x((a||0)-d,0,"block",!1),localVars:c.localVars,context:c.localVars&&new H(null,null,!1),indented:a||0};return c.globalVars&&"object"==typeof c.globalVars&&(b.globalVars=c.globalVars),b},token:function(a,b){if(a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation(),v(a,b)),b.tokenize!=s&&a.eatSpace())return null;var c=b.tokenize(a,b);return"comment"==n?c:(b.lastType="operator"!=n||"++"!=o&&"--"!=o?n:"incdec",z(b,c,n,o,a))},indent:function(b,f){var i,g,h,j,k,l,m;if(b.tokenize==s||b.tokenize==t)return a.Pass;if(b.tokenize!=q)return 0;if(g=f&&f.charAt(0),h=b.lexical,!/^\s*else\b/.test(f))for(j=b.cc.length-1;j>=0;--j)if(k=b.cc[j],k==O)h=h.prev;else if(k!=Eb)break;for(;!("stat"!=h.type&&"form"!=h.type||"}"!=g&&(!(i=b.cc[b.cc.length-1])||i!=X&&i!=Y||/^[,\.=+\-*:?[\(]/.test(f)));)h=h.prev;return e&&")"==h.type&&"stat"==h.prev.type&&(h=h.prev),l=h.type,m=g==l,"vardef"==l?h.indented+("operator"==b.lastType||","==b.lastType?h.info.length+1:0):"form"==l&&"{"==g?h.indented:"form"==l?h.indented+d:"stat"==l?h.indented+(_b(b,f)?e||d:0):"switch"!=h.info||m||0==c.doubleIndentSwitch?h.align?h.column+(m?0:1):h.indented+(m?0:d):h.indented+(/^(?:case|default)\b/.test(f)?d:2*d)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:g?null:"/*",blockCommentEnd:g?null:"*/",blockCommentContinue:g?null:" * ",lineComment:g?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:g?"json":"javascript",jsonldMode:f,jsonMode:g,expressionAllowed:ac,skipExpression:function(a){var b=a.cc[a.cc.length-1];(b==S||b==T)&&a.cc.pop()}}}),a.registerHelper("wordChars","javascript",/[\w$]/),a.defineMIME("text/javascript","javascript"),a.defineMIME("text/ecmascript","javascript"),a.defineMIME("application/javascript","javascript"),a.defineMIME("application/x-javascript","javascript"),a.defineMIME("application/ecmascript","javascript"),a.defineMIME("application/json",{name:"javascript",json:!0}),a.defineMIME("application/x-json",{name:"javascript",json:!0}),a.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),a.defineMIME("text/typescript",{name:"javascript",typescript:!0}),a.defineMIME("application/typescript",{name:"javascript",typescript:!0})});